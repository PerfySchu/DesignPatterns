#### 原型模式

##### 概念

- 基于原本存在的对象（原型）来创建新对象叫做原型设计模式

##### 使用场景

- 对象的创建成本很大，而同一个类的不同对象之间的差别不大，可以通过直接复制现有对象来生成新的对象，以节省时间。
- 创建成本衡量依据：对象数据需要经过计算得到，或者需要通过网络请求，数据库和文件系统等IO操作才能获取（也就是时间开销大的操作）

##### 实现方式

- 深拷贝和浅拷贝
  - 浅拷贝：只拷贝对象的引用（生成新的引用）和基本数据类型，而不拷贝对象本身，与原对象共享数据（java对象的clone()方法属于浅拷贝）
  - 深拷贝：对象的引用和数据均拷贝生成新的
- 如何实现深拷贝
  - 1.拷贝对象时，当对象属性是引用时，深入到对象内部，逐层传递，直到最终拷贝的属性都是基础类型
  - 2.将对象序列化，然后反序列化生成新对象

##### 注意事项

- 根据实际业务场景，选择恰当的拷贝方式
- 对可变对象使用浅拷贝要特别留意，对象数据有被改变的风险

